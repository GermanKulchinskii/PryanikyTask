import{r,j as e}from"./index-CRLtFYTK.js";import{u as j,C as w}from"./useAuth-CmvfQSy_.js";import{T as u,B as k,S,a as C}from"./TextField-XjJ_zJbj.js";const N=()=>{const[n,d]=r.useState({username:"",password:""}),[m,s]=r.useState(!1),[p,a]=r.useState(""),[f,i]=r.useState(!1),{loginUser:x}=j(),l=t=>{const{id:o,value:c}=t.target;if(c.length>=30){a("Длина ввода не должна превышать 30 символов"),s(!0);return}d(b=>({...b,[o]:c}))},g=async t=>{if(t.preventDefault(),!n.username||!n.password){a("Пожалуйста, заполните все поля"),s(!0);return}i(!0);const o=await x(n.username,n.password);switch(i(!1),o){case"success":a("Greetings");break;case"error":a("Произошла ошибка. Попробуйте позже."),s(!0);break;case"wrong credentials":a("Неверный логин или пароль"),s(!0);break}},h=()=>{s(!1)};return e.jsxs("main",{className:"w-screen h-screen flex justify-center items-center",children:[e.jsxs("div",{className:"flex gap-8 flex-col max-w-xl w-full justify-center min-w-80 rounded-md p-6",children:[e.jsx("h1",{className:"mb-0",children:"Войти"}),e.jsx(u,{onChange:l,id:"username",variant:"outlined",label:"Введите логин",fullWidth:!0,inputProps:{maxLength:30}}),e.jsx(u,{onChange:l,id:"password",variant:"outlined",label:"Введите пароль",fullWidth:!0,type:"password",inputProps:{maxLength:30}}),e.jsx(k,{type:"submit",onClick:g,variant:"contained",size:"large",className:"self-end font-medium",children:"Далее"}),e.jsx(S,{open:m,autoHideDuration:3e3,onClose:h,message:p})]}),e.jsx(C,{sx:{color:"#fff",zIndex:t=>t.zIndex.drawer+1},open:f,children:e.jsx(w,{color:"inherit"})})]})};export{N as default};
